(window["webpackJsonptic-tac-toe"]=window["webpackJsonptic-tac-toe"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(20)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),i=n.n(c),l=(n(15),n(1)),o=n(2),u=n(4),s=n(3),m=n(5),f=n(7),p=n(6),h={TWO_PLAYERS:0,VERSUS_COMPUTER:1},y=["O","X"],T={HUMAN:0,COMPUTER:1},v=function(e){return e.map((function(e,t){return[e,t]})).filter((function(e){return null===e[0]}))},E=function(e){return v(e).length>0},d=function(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],n=0;n<t.length;n++){var a=Object(p.a)(t[n],3),r=a[0],c=a[1],i=a[2];if(null!==e[r]&&e[r]===e[c]&&e[r]===e[i])return{position:n>=0&&n<=2?"h h".concat(n):n>=3&&n<=5?"v v".concat(n-3):"d".concat(n-6),iconType:e[r],isTie:null}}return{position:"",iconType:null,isTie:!E(e)||null}},b=function(e,t){return e+Math.floor(Math.random()*(t-e))},O=function(e,t,n){return[].concat(Object(f.a)(e.slice(0,t)),[n],Object(f.a)(e.slice(t+1,e.length)))},g=function(e){var t=v(e);return t.length>0?t[b(0,t.length)][1]:null},S=function e(t,n,a,r){var c=function(e,t){for(var n=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],a=0;a<n.length;a++){var r=Object(p.a)(n[a],3),c=r[0],i=r[1],l=r[2];if(null!==e[c]&&e[c]===e[i]&&e[c]===e[l])return e[c]===t?10:-10}return 0}(t,a);if(10===c)return c-n;if(-10===c)return c+n;if(!E(t))return 0;var i,l=t.length;if(r){i=-1e3;for(var o=0;o<l;o++){if(null===t[o]){var u=O(t,o,a);i=Math.max(i,e(u,n+1,a,!r))}}}else{i=1e3;for(var s=0;s<l;s++){if(null===t[s]){var m=O(t,s,1-a);i=Math.min(i,e(m,n+1,a,!r))}}}return i},j=function(e,t){for(var n=-1e3,a=null,r=e.length,c=0;c<r;c++){if(null===e[c]){var i=O(e,c,t),l=S(i,0,t,!1);l>n&&(n=l,a=c)}}return a},x=500,R=r.a.createContext(),M=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).initState={gameType:h.TWO_PLAYERS,currentIcon:b(0,2),playerTurn:b(0,2),cells:new Array(9).fill(null),gameState:{position:"",iconType:null,isTie:null}},n.state={gameType:n.initState.gameType,currentIcon:n.initState.currentIcon,playerTurn:n.initState.playerTurn,cells:n.initState.cells,gameState:n.initState.gameState,changeType:function(e){n.state.gameType!==e&&n.initNewGame(e)},humanPlay:function(e){n.humanPlay(e)},newGame:function(){n.initNewGame(n.state.gameType)}},n.initGame=function(){n.state.gameType===h.VERSUS_COMPUTER&&n.state.playerTurn===T.COMPUTER&&(n.timeout&&clearTimeout(n.timeout),n.timeout=setTimeout((function(){var e=g(n.state.cells);n.computerPlay(e)}),x))},n.initNewGame=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.initState.gameType;n.setState((function(){return{gameType:e,currentIcon:b(0,2),playerTurn:b(0,2),cells:n.initState.cells,gameState:n.initState.gameState}}),(function(){n.initGame()}))},n.applyState=function(e,t){var n=e.cells,a=1-e.currentIcon,r=1-e.playerTurn,c=O(n,t,e.currentIcon);return{gameState:d(c),currentIcon:a,playerTurn:r,cells:c}},n.humanPlay=function(e){""!==n.state.gameState.position||null!==n.state.cells[e]||n.state.gameType!==h.TWO_PLAYERS&&n.state.playerTurn!==T.HUMAN||n.setState((function(t){return n.applyState(t,e)}),(function(){""===n.state.gameState.position&&n.state.gameType===h.VERSUS_COMPUTER&&n.state.playerTurn===T.COMPUTER&&setTimeout((function(){n.makeAIMove()}),x)}))},n.computerPlay=function(e){""===n.state.gameState.position&&null===n.state.cells[e]&&n.state.gameType===h.VERSUS_COMPUTER&&n.state.playerTurn===T.COMPUTER&&n.setState((function(t){return n.applyState(t,e)}))},n.makeAIMove=function(){var e=j(n.state.cells,n.state.currentIcon);null!==e&&n.computerPlay(e)},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.initGame()}},{key:"render",value:function(){return r.a.createElement(R.Provider,{value:this.state},this.props.children)}}]),t}(a.Component),P=(n(16),function(e){var t=e.value,n=e.name;return r.a.createElement(R.Consumer,null,(function(e){return r.a.createElement("li",{onClick:function(){return e.changeType(t)},className:t===e.gameType?"active":""},n)}))}),C=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"Tic Tak Toe"),r.a.createElement("ul",null,r.a.createElement(P,{value:h.TWO_PLAYERS,name:"2 Ng\u01b0\u1eddi ch\u01a1i"}),r.a.createElement(P,{value:h.VERSUS_COMPUTER,name:"\u0110\u1ea5u v\u1edbi m\xe1y"})),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.context.newGame()}},"L\xe0m m\u1edbi")))}}]),t}(a.Component);C.contextType=R;var N=C,U=(n(17),function(e){return r.a.createElement(R.Consumer,null,(function(t){var n=t.cells[e.index],a=null!==n?y[n]:"I",c="I"!==a?"done":"";return r.a.createElement("button",{className:"cell cell-".concat(e.index," ").concat(c),onClick:function(){return t.humanPlay(e.index)}},a)}))}),k=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).boardRef=r.a.createRef(),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){var e=this;""!==this.context.gameState.position?setTimeout((function(){e.boardRef.current.classList.add("full")}),50):this.boardRef.current.classList.remove("full")}},{key:"render",value:function(){return r.a.createElement("div",{className:"board ".concat(this.context.gameState.position),ref:this.boardRef},r.a.createElement("div",{className:"board-row"},r.a.createElement(U,{index:0}),r.a.createElement(U,{index:1}),r.a.createElement(U,{index:2})),r.a.createElement("div",{className:"board-row"},r.a.createElement(U,{index:3}),r.a.createElement(U,{index:4}),r.a.createElement(U,{index:5})),r.a.createElement("div",{className:"board-row"},r.a.createElement(U,{index:6}),r.a.createElement(U,{index:7}),r.a.createElement(U,{index:8})))}}]),t}(a.Component);k.contextType=R;var w=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e="",t=this.context.currentIcon;return e=this.context.gameState.isTie?"Ho\xe0!":this.context.gameType===h.TWO_PLAYERS?""===this.context.gameState.position?"L\u01b0\u1ee3t (".concat(y[t],")"):"Ng\u01b0\u1eddi ch\u01a1i (".concat(y[1-t],") chi\u1ebfn th\u1eafng!"):""===this.context.gameState.position?this.context.playerTurn===T.HUMAN?"L\u01b0\u1ee3t c\u1ee7a b\u1ea1n":"L\u01b0\u1ee3t c\u1ee7a m\xe1y":this.context.playerTurn===T.HUMAN?"M\xe1y \u0111\xe3 chi\u1ebfn th\u1eafng!":"B\u1ea1n \u0111\xe3 chi\u1ebfn th\u1eafng!",r.a.createElement("main",{className:"main"},r.a.createElement("div",{className:"info"},e),r.a.createElement(k,null))}}]),t}(a.Component);w.contextType=R;var I=w,A=(n(18),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("a",{href:"https://github.com/linhndsml/tic-tak-toe",target:"_blank",rel:"noreferrer noopener"},"M\xe3 ngu\u1ed3n d\u1ef1 \xe1n"))}}]),t}(a.Component)),L=(n(19),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(M,null,r.a.createElement("div",{className:"app"},r.a.createElement(N,null),r.a.createElement(I,null),r.a.createElement(A,null)))}}]),t}(a.Component));i.a.render(r.a.createElement(L,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.f6d6d994.chunk.js.map